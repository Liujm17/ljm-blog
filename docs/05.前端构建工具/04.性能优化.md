---
title: 04.性能优化
sidebar: auto
date: 2021-09-22 00:00:00
tags:
  - webpck生产环境配置
categories:
  - 前端构建工具
---


> 前几天搬家，无更新了，今天手还受伤了，带伤更新😭


:::tip
性能优化总的分为`网络层面`和`渲染层面`
:::

## 网络层面
**「网络层面」**的性能优化，无疑是如何让资源体积更小加载更快，因此笔者从以下四方面做出建议。
1. 「构建策略」：基于构建工具(Webpack/Rollup/Parcel/Esbuild/Vite/Gulp)
2. 「图像策略」：基于图像类型(JPG/PNG/SVG/WebP/Base64)
3. 「分发策略」：基于内容分发网络(CDN)
4. 「缓存策略」：基于浏览器缓存(强缓存/协商缓存) </br>

上述四方面都是一步接着一步完成，充满在整个项目流程里。「构建策略」和「图像策略」处于开发阶段，「分发策略」和「缓存策略」处于生产阶段，因此在每个阶段都可检查是否按顺序接入上述策略。通过这种方式就能最大限度增加`性能优化`应用场景。



## 构建策略
该策略主要围绕`webpack`做相关处理，同时也是接入最普遍的`性能优化策略`。其他构建工具的处理也是大同小异，可能只是配置上不一致。说到`webpack`的`性能优化`，无疑是从`时间层面`和`体积层面`入手。

```
笔者发现目前webpack v5整体兼容性还不是特别好，某些功能配合第三方工具可能出现问题，故暂未升级到v5，继续使用v4作为生产工具，故以下配置均基于v4，但总体与v5的配置出入不大
```

笔者对两层面分别做出6个`性能优化建议`总共12个`性能优化建议`，为了方便记忆均使用四字词语概括，方便大家消化。⏱表示`减少打包时间`，📦表示`减少打包体积`。


1. **「减少打包时间」**：缩减范围、缓存副本、定向搜索、提前构建、并行构建、可视结构
2. **「减少打包体积」**：分割代码、摇树优化、动态垫片、按需加载、作用提升、压缩资源

> ⏱缩减范围





## 参考文章
- [性能优化](https://mp.weixin.qq.com/s/nES0HWRyTVg05sfxj25WJQ)
- [强缓存和协议缓存](https://www.jianshu.com/p/9c95db596df5)